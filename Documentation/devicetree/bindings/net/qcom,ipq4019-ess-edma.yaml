# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/net/qcom,ipq4019-ess-edma.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Qualcomm IPQ ESS EDMA Ethernet Controller

maintainers:
  - Maxime Chevallier <maxime.chevallier@bootlin.com>

allOf:
  - $ref: ethernet-controller.yaml#

properties:
  compatible:
    const: qcom,ipq4019-ess-edma

  reg:
    maxItems: 1

  interrupts:
    maxItems: 32
    description: One interrupt per tx and rx queue, the first 16 are rx queues
                 and the last 16 are the tx queues

  clocks:
    maxItems: 1

  resets:
    maxItems: 1

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - resets
  - phy-mode

unevaluatedProperties: false

examples:
  - |
    #include <dt-bindings/clock/qcom,gcc-ipq4019.h>
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    #include <dt-bindings/interrupt-controller/irq.h>
    gmac: ethernet@c080000 {
        compatible = "qcom,ipq4019-ess-edma";
        reg = <0xc080000 0x8000>;
        resets = <&gcc ESS_RESET>;
        clocks = <&gcc GCC_ESS_CLK>;
        interrupts = <GIC_SPI  65 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  66 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  67 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  68 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  69 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  70 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  71 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  72 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  73 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  74 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  75 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  76 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  77 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  78 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  79 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI  80 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 240 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 241 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 242 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 243 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 244 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 245 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 246 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 247 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 248 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 249 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 250 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 251 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 252 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 253 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 254 IRQ_TYPE_EDGE_RISING>,
                     <GIC_SPI 255 IRQ_TYPE_EDGE_RISING>;

        phy-mode = "internal";
        fixed-link {
            speed = <1000>;
            full-duplex;
            pause;
        };
    };

...
